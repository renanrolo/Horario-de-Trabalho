(this["webpackJsonphorario-de-trabalho"]=this["webpackJsonphorario-de-trabalho"]||[]).push([[0],{18:function(e,n,t){},26:function(e,n,t){"use strict";t.r(n);var r={};t.r(r),t.d(r,"addTurno",(function(){return o})),t.d(r,"onChangeTurnoProperty",(function(){return u})),t.d(r,"setCargaHoraria",(function(){return j})),t.d(r,"removerTurno",(function(){return d}));var a=t(1),c=t(5),s=t.n(c),i=(t(18),t(3)),l=t(4);function o(){return{type:"ADD_TURNO"}}function u(e,n,t){return{type:"CHANGE_TURNO_VALUE",payload:{index:e,propName:n,value:t}}}function j(e){return{type:"UPDATE_CARGA_HORARIA",payload:e}}function d(e){return{type:"REMOVE_TURNO",payload:e}}var b=t(9),m=t.n(b),h=t(8);function O(e){if(e<=0)return"00:00";var n=e%60;return f((e-n)/60,2)+":"+f(n,2)}function f(e,n){for(var t=e+"";t.length<n;)t="0"+t;return t}function x(e){try{if(!e)return null;var n=e.split(":"),t=Object(h.a)(n,2);return 60*+t[0]+ +t[1]}catch(r){return null}}function p(e){var n=0;return e.forEach((function(e){n+=x(e.fim)-x(e.ini)})),O(n)}function v(e){return O(x(e.fim)-x(e.ini))}function g(e){var n=function(){var e=new Date;return 60*e.getHours()+e.getMinutes()}(),t=e.length-1,r=0,a=!0;return e.forEach((function(e,c){var s=x(e.ini),i=x(e.fim);c===t?!s||s>n?a=!1:r+=n-s:s&&i?r+=i-s:a=!1})),a?O(r):null}function N(e,n){if(!e.selection||!e.selection.start||!e.selection.end||e.value===n.value)return e;switch(e.value){case"3 :  ":case"4 :  ":case"5 :  ":case"6 :  ":case"7 :  ":case"8 :  ":case"9 :  ":return e.value=f(+e.value.split(":")[0],2),e.value+=":  ",e.selection.start=3,e.selection.end=3,e}5===e.selection.start&&5===e.selection.end&&(+e.value.split(":")[1]>=60&&(e.value=e.value.split(":")[0]+":00",e.selection={start:3,end:5,length:2}));return e}var y=t(0),T=Object(i.b)((function(e){return e}),(function(e){return Object(l.a)(r,e)}))((function(e){var n=e.Turnos,t=e.CargaHoraria,r=e.setCargaHoraria,a=e.addTurno,c=e.onChangeTurnoProperty,s=e.removerTurno,i=function(e,n,t){c(e,n,t.target.value)};return Object(y.jsx)(y.Fragment,{children:Object(y.jsxs)("div",{className:"col-md-8 order-md-1",children:[Object(y.jsx)("h4",{className:"mb-3",children:"Quadro"}),Object(y.jsxs)("form",{className:"needs-validation",noValidate:"",children:[Object(y.jsx)("div",{className:"row",children:Object(y.jsxs)("div",{className:"col-md-6 mb-3",children:[Object(y.jsx)("label",{htmlFor:"firstName",children:"Carga hor\xe1ria necess\xe1ria"}),Object(y.jsx)("div",{className:"row",children:Object(y.jsx)("div",{className:"col-md-4",children:Object(y.jsx)(m.a,{mask:"99:99",maskChar:" ",className:"form-control app-input",value:t,onChange:function(e){return r(e.target.value)},type:"tel",beforeMaskedValueChange:N})})})]})}),Object(y.jsx)("hr",{}),Object(y.jsxs)("div",{className:"col-12",children:[n.map((function(e,n){return Object(y.jsxs)("div",{className:"row",children:[Object(y.jsx)("div",{className:"input-box mr-3 mb-3",children:Object(y.jsxs)("div",{className:"input-group",children:[Object(y.jsx)("div",{className:"input-group-prepend",children:Object(y.jsx)("div",{className:"input-group-text",children:"In\xedcio"})}),Object(y.jsx)(m.a,{mask:"99:99",maskChar:" ",className:"form-control app-input",value:e.ini,onChange:function(e){return i(n,"ini",e)},type:"tel",beforeMaskedValueChange:N})]})}),Object(y.jsx)("div",{className:"input-box mr-3 mb-3",children:Object(y.jsxs)("div",{className:"input-group",children:[Object(y.jsx)("div",{className:"input-group-prepend",children:Object(y.jsx)("div",{className:"input-group-text",children:"Fim"})}),Object(y.jsx)(m.a,{mask:"99:99",maskChar:" ",className:"form-control app-input",value:e.fim,onChange:function(e){return i(n,"fim",e)},type:"tel",beforeMaskedValueChange:N})]})}),n>0&&Object(y.jsx)("div",{children:Object(y.jsx)("button",{onClick:function(){s(n)},type:"button",className:"btn btn-danger mr-2",children:"x"})})]},n)})),Object(y.jsx)("div",{className:"row",children:Object(y.jsx)("button",{onClick:function(){a()},type:"button",className:"btn btn-success",children:"Adicionar Turno"})}),Object(y.jsx)("br",{}),Object(y.jsx)("br",{})]})]})]})})})),C=Object(i.b)((function(e){return e}),(function(e){return Object(l.a)(r,e)}))((function(e){var n=e.Turnos,t=Object(a.useState)(g(n)),r=Object(h.a)(t,2),c=r[0],s=r[1];return Object(y.jsx)(y.Fragment,{children:Object(y.jsxs)("div",{className:"col-md-4 order-md-2 mb-4",children:[Object(y.jsx)("h4",{className:"d-flex justify-content-between align-items-center mb-3",children:Object(y.jsx)("span",{className:"text-muted",children:"Resumo"})}),Object(y.jsxs)("ul",{className:"list-group mb-3",children:[n.map((function(e,n){return Object(y.jsxs)("li",{className:"list-group-item d-flex justify-content-between lh-condensed",children:[Object(y.jsxs)("div",{children:[Object(y.jsxs)("h6",{className:"my-0",children:[n+1,"\xba Turno"]}),Object(y.jsxs)("small",{className:"text-muted",children:["Das ",e.ini," as ",e.fim]})]}),Object(y.jsx)("span",{className:"text-muted",children:v(e)})]},n)})),Object(y.jsxs)("li",{className:"list-group-item d-flex justify-content-between bg-light",children:[Object(y.jsx)("div",{className:"text-success",children:Object(y.jsx)("h6",{className:"my-0",children:"TOTAL"})}),Object(y.jsx)("strong",{className:"text-success",children:p(n)})]}),c&&Object(y.jsxs)("li",{onClick:function(){s(g(n))},className:"cursor-pointer btn-outline-primary list-group-item d-flex justify-content-between lh-condensed",children:[Object(y.jsx)("span",{children:"Agora"}),Object(y.jsx)("strong",{children:c})]})]})]})})})),A=function(){return Object(y.jsxs)("footer",{className:"my-5 pt-5 text-muted text-center text-small",children:[Object(y.jsx)("p",{className:"mb-1",children:"\xa9 Renan Rolo"}),Object(y.jsx)("ul",{className:"list-inline",children:Object(y.jsx)("li",{className:"list-inline-item",children:Object(y.jsx)("a",{href:"https://github.com/renanrolo",children:"https://github.com/renanrolo"})})})]})},R=function(){return Object(y.jsxs)(y.Fragment,{children:[Object(y.jsx)("nav",{className:"navbar navbar-expand-lg navbar-light bg-light",children:Object(y.jsx)("span",{className:"navbar-brand mb-0 h1",children:"Calculadora de Hor\xe1rio de Sa\xedda"})}),Object(y.jsx)("br",{}),Object(y.jsx)("br",{})]})};var w=function(){return Object(y.jsxs)(y.Fragment,{children:[Object(y.jsx)(R,{}),Object(y.jsxs)("div",{className:"container",children:[Object(y.jsxs)("div",{className:"row",children:[Object(y.jsx)(T,{}),Object(y.jsx)(C,{})]}),Object(y.jsx)(A,{})]})]})},E=(t(25),t(2)),k=t(13),H="cargahoraria",_=function(){try{var e=JSON.parse(localStorage.getItem(H));if(e)return e}catch(n){window.console&&console.log("invalid loadJson",n)}return{Turnos:[{ini:"08:00",fim:"11:30"},{ini:"12:30",fim:"17:00"}],CargaHoraria:"08:00"}}();function U(e){return localStorage.setItem(H,JSON.stringify(e)),e}function D(e){var n=x(e);return!!(n&&n>0)}function V(e,n,t,r){if(r){var a=t.length-1;if("fim"!==e||n!==a){var c=!0;if(t.forEach((function(e,n){n===a?D(e.ini)||(c=!1):D(e.ini)&&D(e.fim)||(c=!1)})),c){var s=0;t.forEach((function(e,n){n<a&&(s+=x(e.fim)-x(e.ini))}));var i=t[a],l=x(r)-s,o=x(i.ini)+l;i.fim=O(o)}}}}var F=Object(l.b)((function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:_,n=arguments.length>1?arguments[1]:void 0;switch(n.type){case"REMOVE_TURNO":var t=n.payload,r=Object(k.a)(e.Turnos);return r.splice(t,1),U(Object(E.a)(Object(E.a)({},e),{},{Turnos:r}));case"ADD_TURNO":var a=Object(k.a)(e.Turnos);return a.push({ini:"",fim:""}),U(Object(E.a)(Object(E.a)({},e),{},{Turnos:a}));case"CHANGE_TURNO_VALUE":var c=n.payload,s=c.propName,i=c.value,l=c.index,o="ini"===s?{ini:i}:{fim:i},u=e.Turnos.map((function(e,n){return n!==l?e:Object(E.a)(Object(E.a)({},e),o)}));return V(s,l,u,e.CargaHoraria),U(Object(E.a)(Object(E.a)({},e),{},{Turnos:u}));case"UPDATE_CARGA_HORARIA":var j=e.Turnos.map((function(e,n){return Object(E.a)({},e)}));return V("ini",0,j,n.payload),U(Object(E.a)(Object(E.a)({},e),{},{CargaHoraria:n.payload,Turnos:j}));default:return e}})),I=F;s.a.render(Object(y.jsx)(i.a,{store:I,children:Object(y.jsx)(w,{})}),document.getElementById("root"))}},[[26,1,2]]]);
//# sourceMappingURL=main.ad6eb5c1.chunk.js.map